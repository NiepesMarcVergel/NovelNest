<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NovelNest</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #2d5016 0%, #1a3a0f 50%, #3d2817 100%);
            color: #333;
            overflow-x: hidden;
            position: relative;
        }

        /* Animated background particles */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(139, 195, 74, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(121, 85, 72, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(139, 195, 74, 0.08) 0%, transparent 50%);
            animation: backgroundShift 20s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes backgroundShift {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }

        /* Loading Screen */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #2d5016 0%, #3d2817 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            animation: fadeOut 0.5s ease 4.5s forwards;
        }

        @keyframes fadeOut {
            to { opacity: 0; visibility: hidden; }
        }

        .logo {
            font-size: 56px;
            font-weight: bold;
            color: #8bc34a;
            margin-bottom: 30px;
            animation: logoFloat 2s ease-in-out infinite;
            text-shadow: 0 0 20px rgba(139, 195, 74, 0.5), 0 0 40px rgba(139, 195, 74, 0.3);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        @keyframes logoFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .logo-leaf {
            display: inline-block;
            animation: leafRotate 3s ease-in-out infinite;
        }

        @keyframes leafRotate {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(15deg); }
        }

        .loader {
            width: 60px;
            height: 60px;
            border: 6px solid rgba(139, 195, 74, 0.2);
            border-top: 6px solid #8bc34a;
            border-right: 6px solid #795548;
            border-radius: 50%;
            animation: spin 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            color: #8bc34a;
            margin-top: 20px;
            font-size: 18px;
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        /* Main Container */
        #main-app {
            display: none;
            height: 100vh;
            overflow: hidden;
            position: relative;
            z-index: 1;
        }

        #main-app.active {
            display: flex;
            animation: slideIn 0.8s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background: linear-gradient(180deg, rgba(139, 195, 74, 0.95) 0%, rgba(76, 175, 80, 0.95) 100%);
            backdrop-filter: blur(10px);
            box-shadow: 4px 0 20px rgba(0,0,0,0.3);
            padding: 20px;
            overflow-y: auto;
            position: relative;
        }

        .sidebar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><rect width="20" height="20" fill="none"/><path d="M10 0 L10 2 M10 18 L10 20 M0 10 L2 10 M18 10 L20 10" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></svg>');
            opacity: 0.3;
            pointer-events: none;
        }

        .sidebar-logo {
            font-size: 28px;
            font-weight: bold;
            color: white;
            margin-bottom: 30px;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: logoGlow 3s ease-in-out infinite;
        }

        @keyframes logoGlow {
            0%, 100% { text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
            50% { text-shadow: 0 0 20px rgba(255,255,255,0.5), 2px 2px 4px rgba(0,0,0,0.3); }
        }

        .nav-item {
            padding: 15px 20px;
            margin: 8px 0;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            display: flex;
            align-items: center;
            gap: 12px;
            color: white;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .nav-item::before {
            content: '';
            position: absolute;
            left: -100%;
            top: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .nav-item:hover::before {
            left: 100%;
        }

        .nav-item:hover {
            background: rgba(255,255,255,0.15);
            transform: translateX(5px) scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .nav-item.active {
            background: linear-gradient(135deg, #795548 0%, #5d4037 100%);
            color: white;
            transform: translateX(5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        .nav-item span {
            font-size: 20px;
            animation: iconBounce 2s ease-in-out infinite;
        }

        @keyframes iconBounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* Main Content */
        .main-content {
            flex: 1;
            overflow-y: auto;
            background: rgba(245, 245, 245, 0.95);
            position: relative;
        }

        .main-content::-webkit-scrollbar {
            width: 10px;
        }

        .main-content::-webkit-scrollbar-track {
            background: rgba(139, 195, 74, 0.1);
        }

        .main-content::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #8bc34a, #795548);
            border-radius: 10px;
        }

        .content-section {
            display: none;
            padding: 20px;
            animation: fadeInUp 0.6s ease;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Search Bar */
        .search-bar {
            width: 100%;
            padding: 18px 25px;
            border: 3px solid #8bc34a;
            border-radius: 30px;
            background: white;
            box-shadow: 0 5px 20px rgba(139, 195, 74, 0.3);
            font-size: 16px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .search-bar:focus {
            outline: none;
            border-color: #795548;
            box-shadow: 0 8px 30px rgba(139, 195, 74, 0.4), 0 0 0 3px rgba(121, 85, 72, 0.2);
            transform: translateY(-2px);
        }

        /* Filter Buttons */
        .filter-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .filter-btn {
            padding: 12px 25px;
            border: 2px solid #8bc34a;
            border-radius: 25px;
            background: white;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            font-weight: 600;
            color: #2d5016;
            position: relative;
            overflow: hidden;
        }

        .filter-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(139, 195, 74, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .filter-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .filter-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(139, 195, 74, 0.3);
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #8bc34a 0%, #689f38 100%);
            color: white;
            border-color: #689f38;
            box-shadow: 0 8px 20px rgba(139, 195, 74, 0.4);
            transform: translateY(-3px);
        }

        /* Post Card */
        .post-card, .group-card, .notification-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(248,248,248,0.98) 100%);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative;
            border: 2px solid transparent;
            overflow: hidden;
        }

        .post-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(139, 195, 74, 0.1), transparent);
            transition: left 0.6s;
        }

        .post-card:hover::before {
            left: 100%;
        }

        .post-card:hover, .group-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 15px 40px rgba(139, 195, 74, 0.3);
            border-color: #8bc34a;
        }

        .post-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .post-author {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(135deg, #8bc34a 0%, #689f38 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(139, 195, 74, 0.4);
            animation: avatarPulse 3s ease-in-out infinite;
            border: 3px solid white;
        }

        @keyframes avatarPulse {
            0%, 100% { box-shadow: 0 4px 15px rgba(139, 195, 74, 0.4); }
            50% { box-shadow: 0 4px 25px rgba(139, 195, 74, 0.6); }
        }

        .three-dots {
            cursor: pointer;
            font-size: 24px;
            padding: 5px 10px;
            user-select: none;
            transition: all 0.3s;
            border-radius: 50%;
            color: #795548;
        }

        .three-dots:hover {
            background: rgba(139, 195, 74, 0.2);
            transform: rotate(90deg);
        }

        .post-content {
            margin-bottom: 15px;
        }

        .post-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #2d5016;
            background: linear-gradient(135deg, #2d5016, #795548);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .post-actions {
            display: flex;
            gap: 15px;
        }

        .action-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            padding: 10px 18px;
            border-radius: 25px;
            border: 2px solid #e0e0e0;
            background: white;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            font-weight: 600;
            color: #555;
        }

        .action-btn:hover {
            background: rgba(139, 195, 74, 0.1);
            border-color: #8bc34a;
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 5px 15px rgba(139, 195, 74, 0.3);
        }

        .action-btn.liked {
            background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
            color: white;
            border-color: #ff6b6b;
            animation: heartBeat 0.5s ease;
        }

        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.2); }
            50% { transform: scale(1.1); }
            75% { transform: scale(1.15); }
        }

        /* Popup */
        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(45, 80, 22, 0.7);
            backdrop-filter: blur(5px);
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeInBg 0.3s ease;
        }

        @keyframes fadeInBg {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .popup.active {
            display: flex;
        }

        .popup-content {
            background: linear-gradient(135deg, #ffffff 0%, #f5f5f5 100%);
            border-radius: 25px;
            padding: 30px;
            min-width: 300px;
            max-width: 650px;
            max-height: 85vh;
            overflow-y: auto;
            animation: popInScale 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
            border: 3px solid #8bc34a;
        }

        @keyframes popInScale {
            from { transform: scale(0.7) rotate(-5deg); opacity: 0; }
            to { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        .popup-menu {
            background: white;
            border-radius: 20px;
            padding: 10px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            border: 2px solid #8bc34a;
            animation: popInScale 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .menu-item {
            padding: 15px 25px;
            cursor: pointer;
            border-radius: 12px;
            transition: all 0.3s ease;
            font-weight: 500;
            margin: 5px 0;
        }

        .menu-item:hover {
            background: linear-gradient(135deg, rgba(139, 195, 74, 0.2), rgba(139, 195, 74, 0.1));
            transform: translateX(5px);
            box-shadow: 0 3px 10px rgba(139, 195, 74, 0.2);
        }

        .menu-item.danger {
            color: #ff4444;
        }

        .menu-item.danger:hover {
            background: rgba(255, 68, 68, 0.1);
        }

        /* Comment Section */
        .comment {
            background: linear-gradient(135deg, rgba(139, 195, 74, 0.1), rgba(139, 195, 74, 0.05));
            padding: 18px;
            border-radius: 15px;
            margin-bottom: 12px;
            border-left: 4px solid #8bc34a;
            transition: all 0.3s ease;
            animation: slideInLeft 0.5s ease;
        }

        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .comment:hover {
            background: linear-gradient(135deg, rgba(139, 195, 74, 0.15), rgba(139, 195, 74, 0.08));
            transform: translateX(5px);
        }

        .comment-input {
            width: 100%;
            padding: 18px;
            border: 3px solid #8bc34a;
            border-radius: 15px;
            margin-top: 15px;
            font-size: 14px;
            transition: all 0.3s ease;
            background: white;
            font-family: inherit;
        }

        .comment-input:focus {
            outline: none;
            border-color: #795548;
            box-shadow: 0 5px 20px rgba(139, 195, 74, 0.3);
        }

        .submit-btn {
            background: linear-gradient(135deg, #8bc34a 0%, #689f38 100%);
            color: white;
            border: none;
            padding: 14px 35px;
            border-radius: 30px;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            font-weight: 600;
            font-size: 16px;
            box-shadow: 0 5px 20px rgba(139, 195, 74, 0.4);
        }

        .submit-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 30px rgba(139, 195, 74, 0.5);
        }

        .submit-btn:active {
            transform: translateY(-1px) scale(1.02);
        }

        /* Profile Section */
        .profile-header {
            background: linear-gradient(135deg, rgba(139, 195, 74, 0.95) 0%, rgba(76, 175, 80, 0.95) 100%);
            border-radius: 25px;
            padding: 40px;
            margin-bottom: 25px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(139, 195, 74, 0.4);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .profile-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #795548 0%, #5d4037 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 48px;
            font-weight: bold;
            margin: 0 auto 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            border: 5px solid white;
            animation: profileFloat 3s ease-in-out infinite;
            position: relative;
            z-index: 1;
        }

        @keyframes profileFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(5deg); }
        }

        .profile-stats {
            display: flex;
            justify-content: center;
            gap: 50px;
            margin-top: 25px;
            position: relative;
            z-index: 1;
        }

        .stat {
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .stat:hover {
            transform: translateY(-5px) scale(1.1);
        }

        .stat-number {
            font-size: 28px;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .tabs {
            display: flex;
            gap: 12px;
            margin-bottom: 25px;
            background: white;
            padding: 12px;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .tab {
            flex: 1;
            padding: 14px;
            border: none;
            background: transparent;
            cursor: pointer;
            border-radius: 15px;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            font-weight: 600;
            color: #555;
        }

        .tab:hover {
            background: rgba(139, 195, 74, 0.1);
            transform: translateY(-2px);
        }

        .tab.active {
            background: linear-gradient(135deg, #8bc34a 0%, #689f38 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(139, 195, 74, 0.4);
        }

        .settings-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 12px 25px;
            background: white;
            border: 2px solid #8bc34a;
            border-radius: 25px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            font-weight: 600;
            color: #2d5016;
            z-index: 10;
        }

        .settings-btn:hover {
            background: linear-gradient(135deg, #8bc34a, #689f38);
            color: white;
            transform: translateY(-3px) rotate(45deg);
            box-shadow: 0 8px 25px rgba(139, 195, 74, 0.4);
        }

        .user-card {
            background: white;
            padding: 20px;
            border-radius: 18px;
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .user-card:hover {
            border-color: #8bc34a;
            transform: translateX(5px);
            box-shadow: 0 8px 25px rgba(139, 195, 74, 0.3);
        }

        .follow-btn {
            padding: 10px 25px;
            border: 2px solid #8bc34a;
            border-radius: 25px;
            cursor: pointer;
            background: linear-gradient(135deg, #8bc34a 0%, #689f38 100%);
            color: white;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .follow-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 20px rgba(139, 195, 74, 0.4);
        }

        .follow-btn.following {
            background: white;
            color: #2d5016;
            border-color: #8bc34a;
        }

        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(135deg, rgba(139, 195, 74, 0.95), rgba(76, 175, 80, 0.95));
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 25px;
            box-shadow: 0 5px 20px rgba(139, 195, 74, 0.3);
            color: white;
        }

        .notif-actions {
            display: flex;
            gap: 12px;
        }

        .notif-btn {
            padding: 10px 20px;
            border: 2px solid white;
            border-radius: 25px;
            cursor: pointer;
            background: rgba(255,255,255,0.2);
            font-size: 13px;
            color: white;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .notif-btn:hover {
            background: white;
            color: #2d5016;
            transform: translateY(-2px);
        }

        .notification-card.unread {
            border-left: 5px solid #8bc34a;
            background: linear-gradient(135deg, rgba(139, 195, 74, 0.1), rgba(139, 195, 74, 0.05));
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            color: white;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

        .close-btn:hover {
            transform: rotate(90deg) scale(1.1);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.6);
        }

        /* Floating elements decoration */
        .floating-leaf {
            position: fixed;
            font-size: 30px;
            opacity: 0.3;
            pointer-events: none;
            z-index: 0;
            animation: float 15s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-50px) rotate(90deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
            75% { transform: translateY(-40px) rotate(270deg); }
        }

        .group-card {
            border-left: 5px solid #8bc34a;
        }

        .group-card:hover {
            border-left-width: 8px;
        }

        /* FAB */
        .fab {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #8bc34a 0%, #689f38 100%);
            color: white;
            border: none;
            font-size: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            cursor: pointer;
            z-index: 100;
            transition: transform 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .fab:hover { transform: scale(1.1) rotate(90deg); }
    </style>
</head>
<body>
    <div class="floating-leaf" style="top: 10%; left: 5%; animation-delay: 0s;">üçÉ</div>
    <div class="floating-leaf" style="top: 60%; left: 90%; animation-delay: 3s;">üçÇ</div>
    <div class="floating-leaf" style="top: 80%; left: 10%; animation-delay: 6s;">üåø</div>
    <div class="floating-leaf" style="top: 30%; left: 85%; animation-delay: 9s;">üçÉ</div>

    <div id="loading-screen">
        <div class="logo">
            <span class="logo-leaf">üçÉ</span> NovelNest
        </div>
        <div class="loader"></div>
        <div class="loading-text">Loading your literary haven...</div>
    </div>

    <div id="main-app">
        <div class="sidebar">
            <div class="sidebar-logo">üçÉ NovelNest</div>
            <div class="nav-item active" data-section="home">
                <span>üè†</span> Home
            </div>
            <div class="nav-item" data-section="groups">
                <span>üë•</span> Groups
            </div>
            <div class="nav-item" data-section="notifications">
                <span>üîî</span> Notifications
            </div>
            <div class="nav-item" data-section="profile">
                <span>üë§</span> Profile
            </div>
        </div>

        <div class="main-content">
            <div class="content-section active" id="home">
                <input type="text" class="search-bar" placeholder="üîç Search for novels, posts, or users...">
                <div class="filter-buttons">
                    <button class="filter-btn active" onclick="filterPosts('all', this)">üìö For You</button>
                    <button class="filter-btn" onclick="filterPosts('following', this)">‚ú® Following</button>
                </div>
                
                <div class="post-card" data-post="1" onclick="openPostDetail(1)">
                    <div class="post-header">
                        <div class="post-author">
                            <div class="avatar">JD</div>
                            <div>
                                <div><strong>John Doe</strong></div>
                                <div style="font-size: 12px; color: #999;">2 hours ago</div>
                            </div>
                        </div>
                        <div class="three-dots" data-owner="false">‚ãÆ</div>
                    </div>
                    <div class="post-content">
                        <div class="post-title">Omniscient Reader's Viewpoint is a masterpiece!</div>
                        <p>Just finished ORV and I'm blown away. The meta-narrative and character development are incredible. Kim Dokja's journey from a reader to a protagonist is so well crafted. Anyone else feel the same?</p>
                    </div>
                    <div class="post-actions">
                        <button class="action-btn like-btn" data-likes="234">
                            <span>‚ù§Ô∏è</span> <span class="like-count">234</span>
                        </button>
                        <button class="action-btn comment-btn">
                            <span>üí¨</span> 5
                        </button>
                    </div>
                </div>

                <div class="post-card" data-post="2">
                    <div class="post-header">
                        <div class="post-author">
                            <div class="avatar">SA</div>
                            <div>
                                <div><strong>Sarah Allen</strong></div>
                                <div style="font-size: 12px; color: #999;">5 hours ago</div>
                            </div>
                        </div>
                        <div class="three-dots" data-owner="true">‚ãÆ</div>
                    </div>
                    <div class="post-content">
                        <div class="post-title">Unpopular opinion: Hamlet is overrated</div>
                        <p>I know this is controversial, but I think Hamlet gets too much credit. Yes, the soliloquies are beautiful, but the plot drags. Macbeth is a far superior tragedy. Change my mind!</p>
                    </div>
                    <div class="post-actions">
                        <button class="action-btn like-btn" data-likes="89">
                            <span>‚ù§Ô∏è</span> <span class="like-count">89</span>
                        </button>
                        <button class="action-btn comment-btn">
                            <span>üí¨</span> 67
                        </button>
                    </div>
                </div>

                <div class="post-card" data-post="3">
                    <div class="post-header">
                        <div class="post-author">
                            <div class="avatar">MK</div>
                            <div>
                                <div><strong>Mike Kim</strong></div>
                                <div style="font-size: 12px; color: #999;">1 day ago</div>
                            </div>
                        </div>
                        <div class="three-dots" data-owner="false">‚ãÆ</div>
                    </div>
                    <div class="post-content">
                        <div class="post-title">The Great Gatsby's symbolism is unmatched</div>
                        <p>Fitzgerald's use of the green light as a symbol for hope and the American Dream is pure genius. Every time I reread it, I discover something new. What's your favorite symbol in literature?</p>
                    </div>
                    <div class="post-actions">
                        <button class="action-btn like-btn" data-likes="156">
                            <span>‚ù§Ô∏è</span> <span class="like-count">156</span>
                        </button>
                        <button class="action-btn comment-btn">
                            <span>üí¨</span> 34
                        </button>
                    </div>
                </div>

                <div class="post-card" data-post="4">
                    <div class="post-header">
                        <div class="post-author">
                            <div class="avatar">EL</div>
                            <div>
                                <div><strong>Emma Lee</strong></div>
                                <div style="font-size: 12px; color: #999;">2 days ago</div>
                            </div>
                        </div>
                        <div class="three-dots" data-owner="false">‚ãÆ</div>
                    </div>
                    <div class="post-content">
                        <div class="post-title">Pride and Prejudice never gets old</div>
                        <p>I've read this book at least 10 times and it still makes me smile. Elizabeth Bennet is the queen of witty comebacks. The slow-burn romance with Darcy is perfection. Jane Austen was ahead of her time!</p>
                    </div>
                    <div class="post-actions">
                        <button class="action-btn like-btn" data-likes="312">
                            <span>‚ù§Ô∏è</span> <span class="like-count">312</span>
                        </button>
                        <button class="action-btn comment-btn">
                            <span>üí¨</span> 89
                        </button>
                    </div>
                </div>
            </div>

            <div class="content-section" id="groups">
                <input type="text" class="search-bar" placeholder="üîç Search for novel groups...">
                <div id="groups-list">
                    <div class="group-card" data-group="orv">
                        <div class="post-title">üìñ Omniscient Reader's Viewpoint</div>
                        <p style="color: #666;">15.2K members ‚Ä¢ 234 posts today</p>
                    </div>
                    <div class="group-card" data-group="shakespeare">
                        <div class="post-title">üé≠ Shakespeare Classics</div>
                        <p style="color: #666;">28.5K members ‚Ä¢ 156 posts today</p>
                    </div>
                    <div class="group-card" data-group="gatsby">
                        <div class="post-title">üçæ The Great Gatsby Fans</div>
                        <p style="color: #666;">12.8K members ‚Ä¢ 89 posts today</p>
                    </div>
                    <div class="group-card" data-group="austen">
                        <div class="post-title">üíï Jane Austen Society</div>
                        <p style="color: #666;">34.1K members ‚Ä¢ 201 posts today</p>
                    </div>
                </div>
                <div id="group-posts" style="display: none;">
                    <button class="submit-btn" style="margin-bottom: 20px;" onclick="showGroupsList()">‚Üê Back to Groups</button>
                    <h2 id="group-title" style="color: #2d5016; margin-bottom: 20px; font-size: 28px;"></h2>
                    <div id="group-feed"></div>
                </div>
            </div>

            <div class="content-section" id="notifications">
                <div class="notification-header">
                    <h2>üîî Notifications</h2>
                    <div class="notif-actions">
                        <button class="notif-btn" onclick="markAllRead()">‚úì Mark all as read</button>
                        <button class="notif-btn" onclick="deleteAllNotifications()">üóëÔ∏è Delete all</button>
                    </div>
                </div>

                <div class="notification-card unread">
                    <div class="post-author">
                        <div class="avatar">JD</div>
                        <div style="flex: 1;">
                            <div><strong>John Doe</strong> liked your post</div>
                            <div style="font-size: 12px; color: #999;">5 minutes ago</div>
                        </div>
                    </div>
                </div>

                <div class="notification-card unread">
                    <div class="post-author">
                        <div class="avatar">SA</div>
                        <div style="flex: 1;">
                            <div><strong>Sarah Allen</strong> commented on your post</div>
                            <div style="font-size: 12px; color: #999;">1 hour ago</div>
                        </div>
                    </div>
                </div>

                <div class="notification-card">
                    <div class="post-author">
                        <div class="avatar">MK</div>
                        <div style="flex: 1;">
                            <div><strong>Mike Kim</strong> started following you</div>
                            <div style="font-size: 12px; color: #999;">3 hours ago</div>
                        </div>
                    </div>
                </div>

                <div class="notification-card">
                    <div class="post-author">
                        <div class="avatar">EL</div>
                        <div style="flex: 1;">
                            <div><strong>Emma Lee</strong> mentioned you in a comment</div>
                            <div style="font-size: 12px; color: #999;">1 day ago</div>
                        </div>
                    </div>
                </div>

                <div class="notification-card">
                    <div class="post-author">
                        <div class="avatar">RL</div>
                        <div style="flex: 1;">
                            <div><strong>Robert Lee</strong> shared your post</div>
                            <div style="font-size: 12px; color: #999;">2 days ago</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="content-section" id="profile">
                <button class="settings-btn" onclick="showSettings()">‚öôÔ∏è Settings</button>
                <div class="profile-header">
                    <div class="profile-avatar">ME</div>
                    <h2>Marc Vergel Niepes</h2>
                    <p style="opacity: 0.9;">@marcomfy</p>
                    <div class="profile-stats">
                        <div class="stat">
                            <div class="stat-number">2</div>
                            <div style="opacity: 0.9;">Posts</div>
                        </div>
                        <div class="stat">
                            <div class="stat-number" id="followers-count">5</div>
                            <div style="opacity: 0.9;">Followers</div>
                        </div>
                        <div class="stat">
                            <div class="stat-number" id="following-count">5</div>
                            <div style="opacity: 0.9;">Following</div>
                        </div>
                    </div>
                </div>

                <div class="tabs">
                    <button class="tab active" onclick="showProfileTab('posts')">üìù Posts</button>
                    <button class="tab" onclick="showProfileTab('followers')">üë• Followers</button>
                    <button class="tab" onclick="showProfileTab('following')">‚ú® Following</button>
                </div>

                <div id="profile-posts" class="profile-tab-content">
                    <div class="post-card" data-post="my1">
                        <div class="post-header">
                            <div class="post-author">
                                <div class="avatar">MV</div>
                                <div>
                                    <div><strong>MV</strong></div>
                                    <div style="font-size: 12px; color: #999;">3 days ago</div>
                                </div>
                            </div>
                            <div class="three-dots" data-owner="true">‚ãÆ</div>
                        </div>
                        <div class="post-content">
                            <div class="post-title">My thoughts on modern literature</div>
                            <p>I think we're living in a golden age of fantasy novels. The world-building and character complexity in modern works rivals the classics!</p>
                        </div>
                        <div class="post-actions">
                            <button class="action-btn like-btn" data-likes="89">
                                <span>‚ù§Ô∏è</span> <span class="like-count">89</span>
                            </button>
                            <button class="action-btn comment-btn">
                                <span>üí¨</span> 23
                            </button>
                        </div>
                    </div>

                    <div class="post-card" data-post="my2">
                        <div class="post-header">
                            <div class="post-author">
                                <div class="avatar">ME</div>
                                <div>
                                    <div><strong>Me</strong></div>
                                    <div style="font-size: 12px; color: #999;">1 week ago</div>
                                </div>
                            </div>
                            <div class="three-dots" data-owner="true">‚ãÆ</div>
                        </div>
                        <div class="post-content">
                            <div class="post-title">Just finished reading...</div>
                            <p>Completed my 50th book this year! Feeling accomplished. What's your reading goal?</p>
                        </div>
                        <div class="post-actions">
                            <button class="action-btn like-btn" data-likes="156">
                                <span>‚ù§Ô∏è</span> <span class="like-count">156</span>
                            </button>
                            <button class="action-btn comment-btn">
                                <span>üí¨</span> 5
                            </button>
                        </div>
                    </div>
                </div>

                <div id="profile-followers" class="profile-tab-content" style="display: none;">
                    <div class="user-card">
                        <div class="post-author">
                            <div class="avatar">JD</div>
                            <div>
                                <div><strong>John Doe</strong></div>
                                <div style="font-size: 12px; color: #999;">@johndoe</div>
                            </div>
                        </div>
                        <button class="follow-btn following" onclick="toggleFollow(this)">Following</button>
                    </div>
                    <div class="user-card">
                        <div class="post-author">
                            <div class="avatar">SA</div>
                            <div>
                                <div><strong>Sarah Allen</strong></div>
                                <div style="font-size: 12px; color: #999;">@sarahallen</div>
                            </div>
                        </div>
                        <button class="follow-btn following" onclick="toggleFollow(this)">Following</button>
                    </div>
                    <div class="user-card">
                        <div class="post-author">
                            <div class="avatar">MK</div>
                            <div>
                                <div><strong>Mike Kim</strong></div>
                                <div style="font-size: 12px; color: #999;">@mikekim</div>
                            </div>
                        </div>
                        <button class="follow-btn following" onclick="toggleFollow(this)">Following</button>
                    </div>
                    <div class="user-card">
                        <div class="post-author">
                            <div class="avatar">EL</div>
                            <div>
                                <div><strong>Emma Lee</strong></div>
                                <div style="font-size: 12px; color: #999;">@emmalee</div>
                            </div>
                        </div>
                        <button class="follow-btn following" onclick="toggleFollow(this)">Following</button>
                    </div>
                    <div class="user-card">
                        <div class="post-author">
                            <div class="avatar">RL</div>
                            <div>
                                <div><strong>Robert Lee</strong></div>
                                <div style="font-size: 12px; color: #999;">@robertlee</div>
                            </div>
                        </div>
                        <button class="follow-btn following" onclick="toggleFollow(this)">Following</button>
                    </div>
                </div>

                <div id="profile-following" class="profile-tab-content" style="display: none;">
                    <div class="user-card">
                        <div class="post-author">
                            <div class="avatar">AL</div>
                            <div>
                                <div><strong>John Doe</strong></div>
                                <div style="font-size: 12px; color: #999;">@johndoe</div>
                            </div>
                        </div>
                        <button class="follow-btn following" onclick="toggleFollow(this)">Following</button>
                    </div>
                    <div class="user-card">
                        <div class="post-author">
                            <div class="avatar">BJ</div>
                            <div>
                                <div><strong>Emma Lee</strong></div>
                                <div style="font-size: 12px; color: #999;">@emmalee</div>
                            </div>
                        </div>
                        <button class="follow-btn following" onclick="toggleFollow(this)">Following</button>
                    </div>
                    <div class="user-card">
                        <div class="post-author">
                            <div class="avatar">CD</div>
                            <div>
                                <div><strong>Carol Davis</strong></div>
                                <div style="font-size: 12px; color: #999;">@caroldavis</div>
                            </div>
                        </div>
                        <button class="follow-btn following" onclick="toggleFollow(this)">Following</button>
                    </div>
                    <div class="user-card">
                        <div class="post-author">
                            <div class="avatar">DM</div>
                            <div>
                                <div><strong>David Miller</strong></div>
                                <div style="font-size: 12px; color: #999;">@davidmiller</div>
                            </div>
                        </div>
                        <button class="follow-btn following" onclick="toggleFollow(this)">Following</button>
                    </div>
                    <div class="user-card">
                        <div class="post-author">
                            <div class="avatar">FT</div>
                            <div>
                                <div><strong>Fiona Taylor</strong></div>
                                <div style="font-size: 12px; color: #999;">@fionataylor</div>
                            </div>
                        </div>
                        <button class="follow-btn following" onclick="toggleFollow(this)">Following</button>
                    </div>
                </div>
            </div>
            
            <button class="fab" onclick="openCreatePost()">+</button>
        </div>
    </div>

    <div class="popup" id="post-popup">
        <div class="popup-content">
            <button class="close-btn" onclick="closePopup('post-popup')">√ó</button>
            <div id="popup-post-content"></div>
            <div style="margin-top: 20px;">
                <h3 style="margin-bottom: 15px; color: #2d5016;">üí¨ Comments</h3>
                <div id="comments-section"></div>
                <button class="submit-btn" onclick="openAddCommentPopup()" style="width: 100%; margin-top: 15px;">Add Comment</button>
            </div>
        </div>
    </div>
    
    <div class="popup" id="add-comment-popup">
        <div class="popup-content">
            <button class="close-btn" onclick="closePopup('add-comment-popup')">√ó</button>
            <h3>Add a Comment</h3>
            <textarea class="comment-input" id="popup-comment-text" placeholder="Type your comment..."></textarea>
            <button class="submit-btn" onclick="submitPopupComment()">Submit</button>
        </div>
    </div>
    
    <div class="popup" id="create-post-popup">
        <div class="popup-content">
            <button class="close-btn" onclick="closePopup('create-post-popup')">√ó</button>
            <h2 style="color: #2d5016;">‚ú® New Post</h2>
            <input type="text" class="search-bar" placeholder="Post Title" id="new-post-title" style="margin-top: 20px;">
            <input type="text" class="search-bar" placeholder="Novel Name" id="new-post-novel">
            <textarea class="comment-input" placeholder="What's on your mind?" id="new-post-desc" style="height: 150px;"></textarea>
            <button class="submit-btn" onclick="submitNewPost()">Post</button>
        </div>
    </div>

    <div class="popup" id="menu-popup">
        <div class="popup-menu" id="menu-content"></div>
    </div>

    <div class="popup" id="settings-popup">
        <div class="popup-content">
            <button class="close-btn" onclick="closePopup('settings-popup')">√ó</button>
            <h2 style="margin-bottom: 25px; color: #2d5016;">‚öôÔ∏è Settings</h2>
            <div style="background: linear-gradient(135deg, rgba(139, 195, 74, 0.1), rgba(139, 195, 74, 0.05)); padding: 18px; border-radius: 15px; margin-bottom: 12px; cursor: pointer; transition: all 0.3s; border-left: 4px solid #8bc34a;" onmouseover="this.style.transform='translateX(5px)'" onmouseout="this.style.transform='translateX(0)'">
                <strong>üîê Account Settings</strong>
                <p style="font-size: 12px; color: #666; margin-top: 5px;">Manage your account information</p>
            </div>
            <div style="background: linear-gradient(135deg, rgba(139, 195, 74, 0.1), rgba(139, 195, 74, 0.05)); padding: 18px; border-radius: 15px; margin-bottom: 12px; cursor: pointer; transition: all 0.3s; border-left: 4px solid #8bc34a;" onmouseover="this.style.transform='translateX(5px)'" onmouseout="this.style.transform='translateX(0)'">
                <strong>üîí Privacy & Security</strong>
                <p style="font-size: 12px; color: #666; margin-top: 5px;">Control who can see your content</p>
            </div>
            <div style="background: linear-gradient(135deg, rgba(139, 195, 74, 0.1), rgba(139, 195, 74, 0.05)); padding: 18px; border-radius: 15px; margin-bottom: 12px; cursor: pointer; transition: all 0.3s; border-left: 4px solid #8bc34a;" onmouseover="this.style.transform='translateX(5px)'" onmouseout="this.style.transform='translateX(0)'">
                <strong>üîî Notifications</strong>
                <p style="font-size: 12px; color: #666; margin-top: 5px;">Manage notification preferences</p>
            </div>
            <div style="background: linear-gradient(135deg, rgba(139, 195, 74, 0.1), rgba(139, 195, 74, 0.05)); padding: 18px; border-radius: 15px; margin-bottom: 12px; cursor: pointer; transition: all 0.3s; border-left: 4px solid #8bc34a;" onmouseover="this.style.transform='translateX(5px)'" onmouseout="this.style.transform='translateX(0)'">
                <strong>üé® Appearance</strong>
                <p style="font-size: 12px; color: #666; margin-top: 5px;">Customize theme and display</p>
            </div>
            <div style="background: linear-gradient(135deg, rgba(139, 195, 74, 0.1), rgba(139, 195, 74, 0.05)); padding: 18px; border-radius: 15px; margin-bottom: 12px; cursor: pointer; transition: all 0.3s; border-left: 4px solid #8bc34a;" onmouseover="this.style.transform='translateX(5px)'" onmouseout="this.style.transform='translateX(0)'">
                <strong>üö´ Blocked Users</strong>
                <p style="font-size: 12px; color: #666; margin-top: 5px;">Manage blocked accounts</p>
            </div>
            <div style="background: linear-gradient(135deg, rgba(139, 195, 74, 0.1), rgba(139, 195, 74, 0.05)); padding: 18px; border-radius: 15px; margin-bottom: 12px; cursor: pointer; transition: all 0.3s; border-left: 4px solid #8bc34a;" onmouseover="this.style.transform='translateX(5px)'" onmouseout="this.style.transform='translateX(0)'">
                <strong>‚ùì Help & Support</strong>
                <p style="font-size: 12px; color: #666; margin-top: 5px;">Get help and contact support</p>
            </div>
            <div style="background: linear-gradient(135deg, rgba(255, 107, 107, 0.2), rgba(238, 90, 111, 0.1)); padding: 18px; border-radius: 15px; cursor: pointer; color: #ff4444; font-weight: 600; transition: all 0.3s; border-left: 4px solid #ff6b6b;" onmouseover="this.style.transform='translateX(5px)'; this.style.background='linear-gradient(135deg, rgba(255, 107, 107, 0.3), rgba(238, 90, 111, 0.2))'" onmouseout="this.style.transform='translateX(0)'; this.style.background='linear-gradient(135deg, rgba(255, 107, 107, 0.2), rgba(238, 90, 111, 0.1))'">
                <strong>üö™ Log Out</strong>
            </div>
        </div>
    </div>

    <script>
        // Show main app after loading
        setTimeout(() => {
            document.getElementById('main-app').classList.add('active');
        }, 5000);

        // Navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', () => {
                document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                item.classList.add('active');
                
                const section = item.dataset.section;
                document.querySelectorAll('.content-section').forEach(sec => sec.classList.remove('active'));
                document.getElementById(section).classList.add('active');
            });
        });

        // Like button
        document.addEventListener('click', (e) => {
            if (e.target.closest('.like-btn')) {
                const btn = e.target.closest('.like-btn');
                const countSpan = btn.querySelector('.like-count');
                let count = parseInt(countSpan.textContent);
                
                if (btn.classList.contains('liked')) {
                    btn.classList.remove('liked');
                    countSpan.textContent = count - 1;
                } else {
                    btn.classList.add('liked');
                    countSpan.textContent = count + 1;
                }
                e.stopPropagation(); // prevent card click
            }
        });

        // Three dots menu
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('three-dots')) {
                e.stopPropagation(); // prevent card click
                const isOwner = e.target.dataset.owner === 'true';
                const menuPopup = document.getElementById('menu-popup');
                const menuContent = document.getElementById('menu-content');
                
                if (isOwner) {
                    menuContent.innerHTML = `
                        <div class="menu-item" onclick="editPost(); closePopup('menu-popup');">‚úèÔ∏è Edit</div>
                        <div class="menu-item danger" onclick="deletePost(); closePopup('menu-popup');">üóëÔ∏è Delete</div>
                        <div class="menu-item" onclick="copyLink(); closePopup('menu-popup');">üîó Copy Link</div>
                    `;
                } else {
                    menuContent.innerHTML = `
                        <div class="menu-item danger" onclick="reportPost(); closePopup('menu-popup');">üö´ Report</div>
                        <div class="menu-item" onclick="notInterested(); closePopup('menu-popup');">üëé Not Interested</div>
                        <div class="menu-item" onclick="copyLink(); closePopup('menu-popup');">üîó Copy Link</div>
                    `;
                }
                // open the menu popup
                menuPopup.classList.add('active');
            }
        });

        // Create Post Logic
        function openCreatePost() {
            document.getElementById('create-post-popup').classList.add('active');
        }

        function submitNewPost() {
            const title = document.getElementById('new-post-title').value;
            const novel = document.getElementById('new-post-novel').value;
            const desc = document.getElementById('new-post-desc').value;

            if (title && novel && desc) {
                alert(`Posted:\nTitle: ${title}\nNovel: ${novel}\nDescription: ${desc}`);
                document.getElementById('new-post-title').value = '';
                document.getElementById('new-post-novel').value = '';
                document.getElementById('new-post-desc').value = '';
                closePopup('create-post-popup');
            } else {
                alert('Please fill in all fields');
            }
        }

        // Post Detail Interaction
        function openPostDetail(id) {
            const popup = document.getElementById('post-popup');
            const content = document.getElementById('popup-post-content');
            const comments = document.getElementById('comments-section');
            
            // Hardcoded content for John Doe's post
            if (id === 1) {
                content.innerHTML = `
                    <div class="post-header">
                        <div class="post-author">
                            <div class="avatar">JD</div>
                            <div>
                                <div><strong>John Doe</strong></div>
                                <div style="font-size: 12px; color: #999;">2 hours ago</div>
                            </div>
                        </div>
                    </div>
                    <div class="post-title">Omniscient Reader's Viewpoint is a masterpiece!</div>
                    <p>Just finished ORV and I'm blown away. The meta-narrative and character development are incredible. Kim Dokja's journey from a reader to a protagonist is so well crafted. Anyone else feel the same?</p>
                `;
                
                comments.innerHTML = `
                    <div class="comment"><strong>Alice:</strong> Totally agree! The ending wrecked me.</div>
                    <div class="comment"><strong>Bob:</strong> Best novel I've read in years.</div>
                    <div class="comment"><strong>Charlie:</strong> I cried so much üò≠</div>
                    <div class="comment"><strong>Dave:</strong> Han Sooyoung is the real MVP though.</div>
                    <div class="comment"><strong>Eve:</strong> Can't wait for the anime adaptation!</div>
                `;
                popup.classList.add('active');
            }
        }

        // Add Comment Popup
        function openAddCommentPopup() {
            document.getElementById('add-comment-popup').classList.add('active');
        }

        function submitPopupComment() {
            const text = document.getElementById('popup-comment-text').value;
            if (text.trim()) {
                const div = document.createElement('div');
                div.className = 'comment';
                div.innerHTML = `<strong>You:</strong> ${escapeHtml(text)}`;
                document.getElementById('comments-section').appendChild(div);
                document.getElementById('popup-comment-text').value = '';
                closePopup('add-comment-popup');
            } else {
                alert('Please write a comment');
            }
        }

        // Filter Logic
        function filterPosts(type, btn) {
            // Update active button
            document.querySelectorAll('.filter-buttons .filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            const posts = document.querySelectorAll('#home .post-card');
            
            if (type === 'all') {
                posts.forEach(post => post.style.display = 'block');
            } else if (type === 'following') {
                posts.forEach(post => {
                    const author = post.querySelector('.post-author strong').textContent;
                    if (author === 'John Doe' || author === 'Emma Lee') {
                        post.style.display = 'block';
                    } else {
                        post.style.display = 'none';
                    }
                });
            }
        }

        // Helper functions
        function closePopup(id) {
            const el = document.getElementById(id);
            if (!el) return;
            el.classList.remove('active');
        }

        function editPost() {
            alert('Edit post: not implemented in demo.');
        }

        function deletePost() {
            alert('Delete post: not implemented in demo.');
        }

        function copyLink() {
            alert('Link copied to clipboard');
        }

        function reportPost() {
            alert('Reported. Thank you for your feedback.');
        }

        function notInterested() {
            alert('Marked as not interested.');
        }

        // Groups handling
        function showGroupsList() {
            document.getElementById('groups-list').style.display = '';
            document.getElementById('group-posts').style.display = 'none';
        }

        function showGroupPosts(groupKey) {
            const title = document.getElementById('group-title');
            const feed = document.getElementById('group-feed');
            title.textContent = document.querySelector('.group-card[data-group="' + groupKey + '"] .post-title').textContent || groupKey;
            
            // Custom logic for ORV group
            if (groupKey === 'orv') {
                feed.innerHTML = `
                    <div class="post-card">
                        <div class="post-header">
                            <div class="post-author"><div class="avatar">KD</div><div><strong>Kim Dokja</strong></div></div>
                        </div>
                        <div class="post-title">The ending...</div>
                        <p>I still can't get over the ending. 51% vs 49%...</p>
                    </div>
                    <div class="post-card">
                        <div class="post-header">
                            <div class="post-author"><div class="avatar">YJ</div><div><strong>Yoo Joonghyuk</strong></div></div>
                        </div>
                        <div class="post-title">Looking for a reader</div>
                        <p>Has anyone seen a reader who wears a white coat? He keeps disappearing.</p>
                    </div>
                    <div class="post-card">
                        <div class="post-header">
                            <div class="post-author"><div class="avatar">HS</div><div><strong>Han Sooyoung</strong></div></div>
                        </div>
                        <div class="post-title">New chapter update</div>
                        <p>Just uploaded the latest chapter. Make sure to read it or I'll plagiarize your life.</p>
                    </div>
                `;
            } else {
                feed.innerHTML = '<p style="text-align:center; color:#666;">No posts loaded for this group in demo.</p>';
            }

            document.getElementById('groups-list').style.display = 'none';
            document.getElementById('group-posts').style.display = '';
        }

        document.querySelectorAll('.group-card').forEach(card => {
            card.addEventListener('click', () => showGroupPosts(card.dataset.group));
        });

        // Notifications
        function markAllRead() {
            document.querySelectorAll('.notification-card.unread').forEach(n => n.classList.remove('unread'));
        }

        function deleteAllNotifications() {
            const container = document.getElementById('notifications');
            if (!container) return;
            container.querySelectorAll('.notification-card').forEach(n => n.remove());
        }

        // Settings
        function showSettings() {
            document.getElementById('settings-popup').classList.add('active');
        }

        // Follow toggle
        function toggleFollow(btn) {
            if (!btn) return;
            const isFollowing = btn.classList.toggle('following');
            if (btn.classList.contains('following')) {
                btn.textContent = 'Following';
                btn.style.background = 'white';
                btn.style.color = '#2d5016';
            } else {
                btn.textContent = 'Follow';
                btn.style.background = '';
                btn.style.color = '';
            }
        }

        function escapeHtml(s) {
            return s.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
        }

        // Profile tabs
        function showProfileTab(tab) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.profile-tab-content').forEach(c => c.style.display = 'none');
            document.querySelectorAll('.tab').forEach(t => { if (t.textContent.toLowerCase().includes(tab)) t.classList.add('active'); });
            if (tab === 'posts') {
                document.getElementById('profile-posts').style.display = '';
            } else if (tab === 'followers') {
                document.getElementById('profile-followers').style.display = '';
            } else if (tab === 'following') {
                document.getElementById('profile-following').style.display = '';
            }
        }

    </script>
</body>
</html>